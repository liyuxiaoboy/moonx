#NAS
sudo apt-get install nfs-common -y
mkdir /media/NAS
sudo mount 192.168.1.110:/data /media/NAS
//也可以直接写到配置文件，避免每次开机手动挂载
sudo su
echo '192.168.1.110:/data                    /media/NAS        nfs     defaults,_netdev  0     0' >> /etc/fstab      ##_netdev 避免挂在失败而无法正常开机
mount -a

#ssh权限
sudo chmod -R 777 /media/map_test/testbag
#ssh复制
scp local_file remote_username@remote_ip:remote_folder 

#检测障碍点 IN ssh
bash host_scripts/msf_simple_map_creator.sh \
/home/liyuxiao/lidetect \
/media/map_test/testbag \
/media/map_test/velodyne32_novatel_extrinsics_example.yaml \
50 \
/media/map_test/opt

#color map
cd apollo 
bash ./scripts/msf_color_map_creator.sh \
testbag/ \
velodyne32_novatel_extrinsics_example.yaml \
50 \
opt/ \
modules/calibration/data/moonx_mkz_0001/camera_params/short_camera_extrinsics.yaml \
modules/calibration/data/moonx_mkz_0001/camera_params/short_camera_intrinsics.yaml \
40

#yolodetect
#configure
/home/yxli/apollo/modules/perception/model/yolo_camera_detector/config.pt
#注意这里要摆放好数据因为是单例的原因没有向里面传參
#cpp
/home/yxli/apollo/modules/perception/obstacle/camera/detector/yolo_camera_detector/yoloDetectObsv2.cc
#run
./bazel-bin/modules/perception/obstacle/camera/detector/yolo_camera_detector/yoloDetectObsv2 

#处理txt文件
#02working里面有py脚本
python ioPose.py ../apollo/testbag/2018-12-12-13-30-56/pcd/corrected_poses.txt data/pcd_pose.txt
python ioPose.py ../apollo/modules/perception/data/yolo_camera_detector_test/img/corrected_poses.txt data/img_pose.txt

#制作无障碍物的彩色点云
#注意这里要看数据摆放位置
./bin/colorPoints \
/home/yxli/02working/data/pcd_pose.txt \
/home/yxli/02working/data/image_pose.txt \
/home/yxli/02working/opt/pcd/ \
/home/yxli/02working/opt/img/ \
35 \

#pcd_merge
./bazel-bin/modules/map/util/colored_pointcloud/merge_pointclouds \
--pcd_files_folder testbag/pcd/ \
--pcd_poses_path testbag/2018-12-11-13-37-43/pcd/corrected_poses.txt \
--output_pcd_path testbag/opt/merge.pcd \


